{"ast":null,"code":"var _jsxFileName = \"/home/core/Documents/baked-beans-master/src/providers/ContractProvider.js\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nimport { createContext, useContext, useEffect, useState } from \"react\";\nimport Web3 from \"web3\";\nimport abi from \"../contracts/abi.json\";\nimport { useAuthContext } from \"./AuthProvider\";\nimport { config } from \"../config\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const ContractContext = /*#__PURE__*/createContext({\n  contract: null,\n  web: null,\n  wrongNetwork: false,\n  getBnbBalance: () => null,\n  fromWei: () => null,\n  toWei: () => null\n});\nexport const ContractProvider = _ref => {\n  _s();\n\n  let {\n    children\n  } = _ref;\n  const [contract, setContract] = useState();\n  const [web3, setWeb3] = useState();\n  const {\n    chainId,\n    setSnackbar\n  } = useAuthContext();\n  const [wrongNetwork, setWrongNetwork] = useState(false);\n  useEffect(() => {\n    if (!chainId) {\n      return;\n    }\n\n    if (parseInt(chainId) !== config.chainId) {\n      setSnackbar({\n        type: \"error\",\n        message: \"Wrong network\"\n      });\n      setWrongNetwork(true);\n      return;\n    }\n\n    setWrongNetwork(false);\n    const web3Instance = new Web3();\n    web3Instance.setProvider(Web3.givenProvider);\n    setWeb3(web3Instance);\n    const contract = new web3Instance.eth.Contract(abi, config.contractAddress);\n    setContract(contract); // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [chainId]);\n\n  const getBnbBalance = address => web3.eth.getBalance(address);\n\n  const fromWei = function (wei) {\n    let unit = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"ether\";\n    return parseFloat(Web3.utils.fromWei(wei, unit)).toFixed(3);\n  };\n\n  const toWei = function (amount) {\n    let unit = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"ether\";\n    return Web3.utils.toWei(amount, unit);\n  };\n\n  return /*#__PURE__*/_jsxDEV(ContractContext.Provider, {\n    value: {\n      web3,\n      contract,\n      wrongNetwork,\n      getBnbBalance,\n      fromWei,\n      toWei\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 51,\n    columnNumber: 5\n  }, this);\n};\n\n_s(ContractProvider, \"I5dllUKGbuu5cDontoLJRRZnOAY=\", false, function () {\n  return [useAuthContext];\n});\n\n_c = ContractProvider;\nexport const useContractContext = () => {\n  _s2();\n\n  return useContext(ContractContext);\n};\n\n_s2(useContractContext, \"gDsCjeeItUuvgOWf1v4qoK9RF6k=\");\n\nvar _c;\n\n$RefreshReg$(_c, \"ContractProvider\");","map":{"version":3,"names":["createContext","useContext","useEffect","useState","Web3","abi","useAuthContext","config","ContractContext","contract","web","wrongNetwork","getBnbBalance","fromWei","toWei","ContractProvider","children","setContract","web3","setWeb3","chainId","setSnackbar","setWrongNetwork","parseInt","type","message","web3Instance","setProvider","givenProvider","eth","Contract","contractAddress","address","getBalance","wei","unit","parseFloat","utils","toFixed","amount","useContractContext"],"sources":["/home/core/Documents/baked-beans-master/src/providers/ContractProvider.js"],"sourcesContent":["import { createContext, useContext, useEffect, useState } from \"react\";\nimport Web3 from \"web3\";\n\nimport abi from \"../contracts/abi.json\";\nimport { useAuthContext } from \"./AuthProvider\";\nimport { config } from \"../config\";\n\nexport const ContractContext = createContext({\n  contract: null,\n  web: null,\n  wrongNetwork: false,\n  getBnbBalance: () => null,\n  fromWei: () => null,\n  toWei: () => null,\n});\n\nexport const ContractProvider = ({ children }) => {\n  const [contract, setContract] = useState();\n  const [web3, setWeb3] = useState();\n  const { chainId, setSnackbar } = useAuthContext();\n  const [wrongNetwork, setWrongNetwork] = useState(false);\n\n  useEffect(() => {\n    if (!chainId) {\n      return;\n    }\n    if (parseInt(chainId) !== config.chainId) {\n      setSnackbar({\n        type: \"error\",\n        message: \"Wrong network\",\n      });\n      setWrongNetwork(true);\n      return;\n    }\n    setWrongNetwork(false);\n    const web3Instance = new Web3();\n    web3Instance.setProvider(Web3.givenProvider);\n\n    setWeb3(web3Instance);\n    const contract = new web3Instance.eth.Contract(abi, config.contractAddress);\n    setContract(contract);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [chainId]);\n\n  const getBnbBalance = (address) => web3.eth.getBalance(address);\n  const fromWei = (wei, unit = \"ether\") =>\n    parseFloat(Web3.utils.fromWei(wei, unit)).toFixed(3);\n  const toWei = (amount, unit = \"ether\") => Web3.utils.toWei(amount, unit);\n\n  return (\n    <ContractContext.Provider\n      value={{ web3, contract, wrongNetwork, getBnbBalance, fromWei, toWei }}\n    >\n      {children}\n    </ContractContext.Provider>\n  );\n};\n\nexport const useContractContext = () => useContext(ContractContext);\n"],"mappings":";;;;AAAA,SAASA,aAAT,EAAwBC,UAAxB,EAAoCC,SAApC,EAA+CC,QAA/C,QAA+D,OAA/D;AACA,OAAOC,IAAP,MAAiB,MAAjB;AAEA,OAAOC,GAAP,MAAgB,uBAAhB;AACA,SAASC,cAAT,QAA+B,gBAA/B;AACA,SAASC,MAAT,QAAuB,WAAvB;;AAEA,OAAO,MAAMC,eAAe,gBAAGR,aAAa,CAAC;EAC3CS,QAAQ,EAAE,IADiC;EAE3CC,GAAG,EAAE,IAFsC;EAG3CC,YAAY,EAAE,KAH6B;EAI3CC,aAAa,EAAE,MAAM,IAJsB;EAK3CC,OAAO,EAAE,MAAM,IAL4B;EAM3CC,KAAK,EAAE,MAAM;AAN8B,CAAD,CAArC;AASP,OAAO,MAAMC,gBAAgB,GAAG,QAAkB;EAAA;;EAAA,IAAjB;IAAEC;EAAF,CAAiB;EAChD,MAAM,CAACP,QAAD,EAAWQ,WAAX,IAA0Bd,QAAQ,EAAxC;EACA,MAAM,CAACe,IAAD,EAAOC,OAAP,IAAkBhB,QAAQ,EAAhC;EACA,MAAM;IAAEiB,OAAF;IAAWC;EAAX,IAA2Bf,cAAc,EAA/C;EACA,MAAM,CAACK,YAAD,EAAeW,eAAf,IAAkCnB,QAAQ,CAAC,KAAD,CAAhD;EAEAD,SAAS,CAAC,MAAM;IACd,IAAI,CAACkB,OAAL,EAAc;MACZ;IACD;;IACD,IAAIG,QAAQ,CAACH,OAAD,CAAR,KAAsBb,MAAM,CAACa,OAAjC,EAA0C;MACxCC,WAAW,CAAC;QACVG,IAAI,EAAE,OADI;QAEVC,OAAO,EAAE;MAFC,CAAD,CAAX;MAIAH,eAAe,CAAC,IAAD,CAAf;MACA;IACD;;IACDA,eAAe,CAAC,KAAD,CAAf;IACA,MAAMI,YAAY,GAAG,IAAItB,IAAJ,EAArB;IACAsB,YAAY,CAACC,WAAb,CAAyBvB,IAAI,CAACwB,aAA9B;IAEAT,OAAO,CAACO,YAAD,CAAP;IACA,MAAMjB,QAAQ,GAAG,IAAIiB,YAAY,CAACG,GAAb,CAAiBC,QAArB,CAA8BzB,GAA9B,EAAmCE,MAAM,CAACwB,eAA1C,CAAjB;IACAd,WAAW,CAACR,QAAD,CAAX,CAlBc,CAmBd;EACD,CApBQ,EAoBN,CAACW,OAAD,CApBM,CAAT;;EAsBA,MAAMR,aAAa,GAAIoB,OAAD,IAAad,IAAI,CAACW,GAAL,CAASI,UAAT,CAAoBD,OAApB,CAAnC;;EACA,MAAMnB,OAAO,GAAG,UAACqB,GAAD;IAAA,IAAMC,IAAN,uEAAa,OAAb;IAAA,OACdC,UAAU,CAAChC,IAAI,CAACiC,KAAL,CAAWxB,OAAX,CAAmBqB,GAAnB,EAAwBC,IAAxB,CAAD,CAAV,CAA0CG,OAA1C,CAAkD,CAAlD,CADc;EAAA,CAAhB;;EAEA,MAAMxB,KAAK,GAAG,UAACyB,MAAD;IAAA,IAASJ,IAAT,uEAAgB,OAAhB;IAAA,OAA4B/B,IAAI,CAACiC,KAAL,CAAWvB,KAAX,CAAiByB,MAAjB,EAAyBJ,IAAzB,CAA5B;EAAA,CAAd;;EAEA,oBACE,QAAC,eAAD,CAAiB,QAAjB;IACE,KAAK,EAAE;MAAEjB,IAAF;MAAQT,QAAR;MAAkBE,YAAlB;MAAgCC,aAAhC;MAA+CC,OAA/C;MAAwDC;IAAxD,CADT;IAAA,UAGGE;EAHH;IAAA;IAAA;IAAA;EAAA,QADF;AAOD,CAxCM;;GAAMD,gB;UAGsBT,c;;;KAHtBS,gB;AA0Cb,OAAO,MAAMyB,kBAAkB,GAAG;EAAA;;EAAA,OAAMvC,UAAU,CAACO,eAAD,CAAhB;AAAA,CAA3B;;IAAMgC,kB"},"metadata":{},"sourceType":"module"}